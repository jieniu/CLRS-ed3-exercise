## 4.4-1
Use a recursion tree to determin a good asymptotic upper bound on the recurrence ![](https://latex.codecogs.com/png.latex?T%28n%29%20%3D%203T%28%5Clfloor%20n/2%20%5Crfloor%29&plus;n). Use the substitution method to verify your answer.

递归树第1层：  
![](https://latex.codecogs.com/png.latex?n)  

递归树第2层:  
![](https://latex.codecogs.com/png.latex?n/2%20&plus;%20n/2%20&plus;%20n/2)  

递归树第3层：  
![](https://latex.codecogs.com/png.latex?%5Cbegin%7Bmatrix%7D%20%5Cunderbrace%7Bn/2%5E2%20&plus;%20n/2%5E2%20&plus;%20n/2%5E2%20&plus;%20%5Cdots%20&plus;%20n/2%5E2%7D%20%5C%5C%209%20%5Cend%7Bmatrix%7D)  

假设递归树有k层，则最后一层为:  
![](https://latex.codecogs.com/png.latex?%5Cbegin%7Bmatrix%7D%20%5Cunderbrace%7Bn/2%5E%7Bk-1%7D%20&plus;%20n/2%5E%7Bk-1%7D%20&plus;%20n/2%5E%7Bk-1%7D%20&plus;%20%5Cdots%20&plus;%20n/2%5E%7Bk-1%7D%7D%20%5C%5C%203%5E%7Bk-1%7D%20%5Cend%7Bmatrix%7D)  

因为每一项为1，所以![](https://latex.codecogs.com/png.latex?n%3D2%5E%7Bk-1%7D)，即![](https://latex.codecogs.com/png.latex?k%3Dlgn&plus;1)  

对每一层求和，即  

![](https://latex.codecogs.com/png.latex?T%28n%29%20%26%3D%20n%20&plus;%203/2n%20&plus;%20%283/2%29%5E2n%20&plus;%20%283/2%29%5E%7Bk-2%7D%20&plus;%203%5E%7Blgn%7D%20%3D%5Csum_%7Bi%3D0%7D%5E%7Blgn-1%7D%283/2%29%5Ein%20&plus;%20n%5E%7Blg3%7D)

根据几何级数的公式，可以算出  

![](https://latex.codecogs.com/gif.latex?T%28n%29%20%3D%20%5Cfrac%7B%283/2%29%5E%7Blgn%7D-1%7D%7B3/2-1%7Dn%20&plus;%20n%5E%7Blg3%7D)

化简得  
![](https://latex.codecogs.com/gif.latex?T%28n%29%20%3D%203n%5E%7Blg3%7D%20-%202n)

即![](https://latex.codecogs.com/gif.latex?T%28n%29%20%3D%20O%28n%5E%7Blg3%7D%29)

## 4.4-2
Use a recursion tree to determine a good asymptotic upper bound on the recurrence![](https://latex.codecogs.com/gif.latex?T%28n%29%3DT%28n/2%29%20&plus;%20n%5E2). Use the substitution method to verify your answer.

递归树每层依次为  
![](https://latex.codecogs.com/gif.latex?%28n/2%5E0%29%5E2)  
![](https://latex.codecogs.com/gif.latex?%28n/2%5E1%29%5E2)  
...  
![](https://latex.codecogs.com/gif.latex?%28n/2%5E%7Bk-1%7D%29%5E2)
层数k为![](https://latex.codecogs.com/gif.latex?lgn&plus;1)  

把每层所耗时长累加得：  
<img src="https://github.com/jieniu/CLRS-ed3-exercise/blob/master/ch4/1.png" width="400">  
最后用代入法进行证明，设存在一个常数![](https://latex.codecogs.com/png.latex?d%3E0)，满足![](https://latex.codecogs.com/png.latex?T%28n%29%20%5Cle%20dn%5E2)，则代入原式得  

<img src="https://github.com/jieniu/CLRS-ed3-exercise/blob/master/ch4/2.png?" width="200">

## 4.4-3
Use a recursion tree to determine a good asymptotic upper bound on the recurrence ![](https://latex.codecogs.com/gif.latex?T%28n%29%3D4T%28n/2&plus;2%29%20&plus;%20n). Use the substitution method to verify your answer.

这题的难度在于参数中有一个加法操作，这会使每个节点的值为  
![](https://latex.codecogs.com/gif.latex?n/2%5E%7Bk-1%7D%20&plus;%202/2%5E%7Bk-2%7D%20&plus;%202/2%5E%7Bk-3%7D%20&plus;%20%5Cdots%20&plus;%202/2%5E0)  

化简得  
![](https://latex.codecogs.com/gif.latex?n/2%5E%7Bk-1%7D%20&plus;%202%5Ctimes%20%5Csum_%7Bi%3D0%7D%5E%7Bk-2%7D%281/2%29%5Ei)  

为了降低复杂度，这里假设k为无穷大，则最终每个节点为  
![](https://latex.codecogs.com/gif.latex?n/2%5E%7Bk-1%7D%20&plus;%204)  

因为每次n递减一半，所以最终一共有![](https://latex.codecogs.com/gif.latex?log_2n&plus;1)层，又每层的和为  
![](https://latex.codecogs.com/gif.latex?4%5E%7Bk-1%7D%5Ctimes%28n/2%5E%7Bk-1%7D%20&plus;%204%29)  

所以  
![](https://latex.codecogs.com/gif.latex?T%28n%29%26%3Dn%20&plus;%20%5Csum_%7Bi%3D2%7D%5E%7Blog_2n%7D2%5Ein%20&plus;%20%5Csum_%7Bi%3D2%7D%5E%7Blog_2n%7D4%5Ei%20&plus;%204%5E%7Blog_2n%7D)  

可以算出除了第一项以外，后面三项的最高次幂都是![](https://latex.codecogs.com/gif.latex?n%5E2)，可以判定  

![](https://latex.codecogs.com/gif.latex?T%28n%29%3C%3DO%28n%5E2%29)

